
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Hexo 4.2.0" />
  <title>使用DNS盾让BLOG一直在线 - 旮旯 - 落灰的地方</title>
  <meta name="keywords" content="DNS盾,DNS监控,DNS," />
  <meta name="description" content="落灰的地方" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/favicon.png" type="image/png" />
  <link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml" />
  <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.1/pure-min.css"><link rel="stylesheet" href="/css/xoxo.css">
</head>
<body>
  <div class="nav-container"><nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    <img class="avatar" src="/images/logo.png">
    <span class="title">旮旯</span>
  </a>
  <ul class="pure-menu-list clearfix">
    <li class="pure-menu-item"><a href="/" class="pure-menu-link">首页</a></li><li class="pure-menu-item"><a href="/about" class="pure-menu-link">关于</a></li><li class="pure-menu-item"><a href="/archives" class="pure-menu-link">归档</a></li><li class="pure-menu-item"><a href="/links" class="pure-menu-link">链接</a></li><li class="pure-menu-item"><a href="/tags" class="pure-menu-link">标签</a></li><li class="pure-menu-item"><a href="/works" class="pure-menu-link">作品</a></li>
  </ul>
</nav></div>
  <div class="container" id="content-outer">
    <div class="inner" id="content-inner"><div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">使用DNS盾让BLOG一直在线</h1>
      <span><time class="time" datetime="2019-11-21T03:43:01.000Z">2019-11-21</time></span>
      <span class="slash">/</span>
      <span class="post-meta">
        <span class="post-tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNS/" rel="tag">DNS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNS%E7%9B%91%E6%8E%A7/" rel="tag">DNS监控</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNS%E7%9B%BE/" rel="tag">DNS盾</a></li></ul></span>
      </span>
      <span class="slash">/</span>
      <span class="read leancloud_visitors" id="/post/dnsdun.html" data-flag-title="使用DNS盾让BLOG一直在线">
        已读:<span class="leancloud-visitors-count">0</span>
      </span>
    </header>
    <div class="post-content"><h3 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h3><p>博客用的CODING.NET虽然给了腾讯云新加坡节点，</p>
<p>但是，昨晚上又双叒叕跪了，问了问CODING客服，是有人发非法信息被牵连了…</p>
<p>好吧，昨晚上一堆BLOG又跪了，突然想到HEXO是可以同步到多GIT的，</p>
<p>可以在解析的时候监控一下如果coding又跪了，就自动切换到github上去…</p>
<p>解决方法有2种</p>
<a id="more"></a>

<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><h4 id="自己写"><a href="#自己写" class="headerlink" title="自己写"></a>自己写</h4><p>自己写监控脚本，然后用API切换解析，这个适用于各种开放了API接口的域名解析商</p>
<p>比如：<a href="https://help.aliyun.com/document_detail/29739.html" target="_blank" rel="noopener">阿里云</a> ，<a href="https://cloud.tencent.com/document/product/302" target="_blank" rel="noopener">腾讯云</a>  等等，其中阿里云好评，给出了JAVA、PYTHO和PHP的SDK</p>
<h4 id="DNS盾"><a href="#DNS盾" class="headerlink" title="DNS盾"></a>DNS盾</h4><p>其实很多家都提供类似的服务，不过只有DNS盾的最便宜，</p>
<p>只要充值1块，花1毛钱发一条短信…还有9分嗯，也不知道干嘛…</p>
<p>利用<a href="https://dnsdun.com" target="_blank" rel="noopener">DNSDUN</a>提供的解析监控服务，来做自动切换</p>
<p>PS. 这里需要coding.net和GITHUB都要绑定了你的域名</p>
<p>先建立一个CNAME，将自己的域名解析到 coding.net</p>
<img src="/images/loading.gif" data-original="//cdn.jsdelivr.net/gh/rakiy/blogpic@master/20191121/jiexi.png" class="full-image lazy" alt="解析方法" title="解析方法" />

<p>然后再添加一个监控，选定HTTP状态即可，不需要监控内容，然后CNAME到你GITHUB的域名</p>
<img src="/images/loading.gif" data-original="//cdn.jsdelivr.net/gh/rakiy/blogpic@master/20191121/jiankong.png" class="full-image lazy" alt="解析方法" title="解析方法" />

<p>添加成功后，右边监控状态是绿色的，说明是正常，红色说明不正常，</p>
<p>如果是红色，一般可以看到域名的解析值已经变成了GITHUB的了,</p>
<p>等coding恢复正常的时候就可以跳回来了….</p>
</div>
    <div>全文完。</div>
  </article>
  <div class="toc-container">
  <div id="toc" class="toc-article">
    <strong class="toc-title">目录</strong>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#起因"><span class="toc-text">起因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解决"><span class="toc-text">解决</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#自己写"><span class="toc-text">自己写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS盾"><span class="toc-text">DNS盾</span></a></li></ol></li></ol>
  </div>

</div>
</div>
<div class="copyright">
  <span>本作品采用</span>
  <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">知识共享署名 4.0 国际许可协议</a>
  <span>进行许可。 转载时请注明原文链接。</span>
</div>
  
  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>〈 </span>
          <a href="/post/innie.html" rel="next" title="黑苹果M.2接口SSD由外置改为内置">
          黑苹果M.2接口SSD由外置改为内置
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/post/msi_b250_oc_efi.html" rel="prev" title="黑苹果/微星B250M-E/10.15/EFI">
            黑苹果/微星B250M-E/10.15/EFI
          </a>
          <span>〉</span>
        
      </div>
    </div>
  </div>
    
  </div>
  <footer class="footer text-center">
  <div id="bottom-inner">
    <a class="bottom-item" href="/" title="回到首页">首页</a> |
    <a class="bottom-item" href="/atom.xml" title="RSS订阅">RSS</a> |
    <a class="bottom-item" href="//github.com/rakiy" target="_blank" title="我的github">GitHub</a> |
    <a class="bottom-item" href="https://hexo.io" target="_blank" title="快速、简洁且高效的博客框架">Powered by hexo 4.2.0</a> |
    <a class="bottom-item" href="https://github.com/KevinOfNeu/hexo-theme-xoxo" target="_blank" title="好用的主题">Theme xoxo</a> | 
    <a class="bottom-item" href="https://valine.js.org/" target="_blank" title="基于Leancloud的评论系统">Valine</a>
  </div>
</footer>
  <!-- 配置文件中的JS,按顺序加载 -->
  <script src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery_lazyload@1.9.3/jquery.lazyload.min.js"></script><script src="/js/xoxo.js"></script>
  <!--百度统计-->
  <script>var _hmt = _hmt || []; (function () { var hm = document.createElement("script"); hm.src = "//hm.baidu.com/hm.js?d11fef4e5b804ad994cd5ce91acdc384"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })();</script>
</body>
</html>